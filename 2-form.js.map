{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\n    email: '',\n    message: '',\n  };\n  const STORAGE_KEY = 'feedback-form-state';\n  \n  const refs = {\n    form: document.querySelector('.feedback-form'),\n  };\n  \n  refs.form.addEventListener('input', e => {\n    const email = e.currentTarget.elements.email.value.trim();\n    const message = e.currentTarget.elements.message.value.trim();\n    formData.email = email;\n    formData.message =message;\n    saveToLS(STORAGE_KEY, formData);\n  });\n  \n  function initPage() {\n      const formData = loadFromLS(STORAGE_KEY);\n      refs.form.elements.email.value = formData?.email || '';\n      refs.form.elements.message.value = formData?.message || '';\n    }\n    \n    initPage();\n  \n    refs.form.addEventListener('submit', e => {\n      e.preventDefault();\n      if (!formData.email || !formData.message) {\n          alert('Fill please all fields');\n          return;\n      }\n      const email = e.currentTarget.elements.email.value.trim();\n      const message = e.currentTarget.elements.message.value.trim();\n      formData.email = email;\n      formData.message = message;\n      console.log(formData)\n      localStorage.removeItem(STORAGE_KEY);\n      e.target.reset();\n    });\n  \n  \n  \n  function saveToLS(key, value) {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n  }\n  \n  function loadFromLS(key) {\n    const body = localStorage.getItem(key);\n    try {\n      const data = JSON.parse(body);\n      return data;\n    } catch {\n      return body;\n    }\n  }\n  "],"names":["formData","STORAGE_KEY","refs","email","message","saveToLS","initPage","loadFromLS","key","value","jsonData","body"],"mappings":"wFAAA,MAAMA,EAAW,CACb,MAAO,GACP,QAAS,EACb,EACQC,EAAc,sBAEdC,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,CACjD,EAEEA,EAAK,KAAK,iBAAiB,QAAS,GAAK,CACvC,MAAMC,EAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OAC7CC,EAAU,EAAE,cAAc,SAAS,QAAQ,MAAM,OACvDJ,EAAS,MAAQG,EACjBH,EAAS,QAASI,EAClBC,EAASJ,EAAaD,CAAQ,CAClC,CAAG,EAED,SAASM,GAAW,CAChB,MAAMN,EAAWO,EAAWN,CAAW,EACvCC,EAAK,KAAK,SAAS,MAAM,OAAQF,GAAA,YAAAA,EAAU,QAAS,GACpDE,EAAK,KAAK,SAAS,QAAQ,OAAQF,GAAA,YAAAA,EAAU,UAAW,EACzD,CAEDM,IAEAJ,EAAK,KAAK,iBAAiB,SAAU,GAAK,CAExC,GADA,EAAE,eAAc,EACZ,CAACF,EAAS,OAAS,CAACA,EAAS,QAAS,CACtC,MAAM,wBAAwB,EAC9B,MACH,CACD,MAAMG,EAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OAC7CC,EAAU,EAAE,cAAc,SAAS,QAAQ,MAAM,OACvDJ,EAAS,MAAQG,EACjBH,EAAS,QAAUI,EACnB,QAAQ,IAAIJ,CAAQ,EACpB,aAAa,WAAWC,CAAW,EACnC,EAAE,OAAO,OACf,CAAK,EAIH,SAASI,EAASG,EAAKC,EAAO,CAC5B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACnC,CAED,SAASH,EAAWC,EAAK,CACvB,MAAMG,EAAO,aAAa,QAAQH,CAAG,EACrC,GAAI,CAEF,OADa,KAAK,MAAMG,CAAI,CAElC,MAAY,CACN,OAAOA,CACR,CACL"}